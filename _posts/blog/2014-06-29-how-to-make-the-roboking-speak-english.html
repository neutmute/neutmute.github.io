---
layout: post
title: English, Roboking! Do you speak it?
date: 2014-06-29 15:34:24.000000000 +10:00
categories:
- blog
- roboking
tags:
- english
- korean
- language
- roboking
- upgrade
- voice
status: publish
type: post
published: true
meta:
  _publicize_pending: '1'
  _rest_api_published: '1'
  _rest_api_client_id: "-1"
  _thumbnail_id: '69'
  _wpas_skip_facebook: '1'
  _wpas_skip_google_plus: '1'
  _wpas_skip_twitter: '1'
  _wpas_skip_linkedin: '1'
  _wpas_skip_tumblr: '1'
  _wpas_skip_path: '1'
  _edit_last: '1'
excerpt: Teaching a Korean imported Roboking English
---
<img src="/assets/img/blog/they-speak-english-in-what.png" width="200" />
<p>Thanks to AsherW on <a title="Whirlpool" href="http://whrl.pl/RdIevy">whirlpool</a>, I upgraded my Korean VR6272LVM RoboKing to English. I had considered trying to flash it with the firmware for the equivalent Australian model but decided the risk of bricking a $700 robot too high. It turns out the firmware upgrade isn't necessary and the steps are quite straight forward:</p>
<ol>
<li>Format a USB key to FAT32 and extract <a style="font-style: normal;" title="this download" href="https://mega.co.nz/#!OBxX3Jja!GkwjYRdOHHuPdNjgu1Hpsmhgh199tNyMjuHmEIyEKxg" target="_blank">this download</a> onto it</li>
<li>Turn off robot by switch</li>
<li>Insert USB</li>
<li>Turn on robot by switch</li>
<li>Press start button (lid can be open)</li>
<li>Wait. Robot wlil announce "Here we go!" in it's best Luigi impression and you'll see the light on the USB stick flash.</li>
<li>Wait for the complete message.</li>
<li>Turn off robot vac by switch</li>
</ol>
<p>The RoboKing is Linux based and the <strong>update.sh</strong> shell script in the download will create a folder called SNDDATA.old on the USB stick, copy all the sound files off the robot into the folder, then copy the English sound files off the USB onto the robot.</p>
<p>Since I wasn't sure what exact model those downloaded sounds were for, I edited <strong>update.sh</strong> to only do a copy to USB and then verified with DiffMerge that there was a one to one file match with the downloaded English sounds.</p>
<h3><strong>How to open SND files<br />
</strong></h3>
<p>I wanted to verify the audio files were sensible and I wasn't about to turn my Korean robot into a German one or similar. This can be done via Audacity:</p>
<ol>
<li>File -&gt; Import -&gt; Raw Data...</li>
<li>Browse for your file</li>
<li>Set the <strong style="font-style: normal;">Sample Rate</strong> to <strong style="font-style: normal;">16000</strong>, click <strong style="font-style: normal;">Import</strong></li>
</ol>
<p>You can then play the sound file and hear a preview of what it actually says.</p>
<h3><strong>How to create your own SND files</strong></h3>
<p>Source an <a title="appropriate sound" href="http://www.ebaumsworld.com/soundboards/play/1829/" target="_blank">appropriate sound</a> for your robot and open it up in Audacity. Export it like this:</p>
<ol>
<li>File -&gt; Export</li>
<li>In that dialog window before clicking Save, set:
<ol>
<li><strong>Save as Type</strong>: Other uncompressed files</li>
<li><strong>Options </strong>-&gt; <strong>Header</strong>: Raw (headerless), <strong>Encoding</strong>: Signed 16 bit PCM</li>
</ol>
</li>
<li>Save, OK</li>
</ol>
<p>From there it is straight forward to substitute your exported file for the USB upload.</p>
<p>Here is the new message for when my robot is stuck: <a title="listen" href="https://soundcloud.com/withoot/snd-error-stuck">listen</a></p>
<h3>How to bulk convert SND to WAV</h3>
<p>I might hack a few more sound files but the process of opening them up in Audacity to see what they say is going to be a bit slow. Converting them to WAV file first will be easier to review.</p>
<p>Here is how to do it with ffmpeg for windows</p>
<pre>C:&gt;ffmpeg -f s16le -ar 16000 -ac 1 -i SND_BATTERY_CHARGING_BEGIN.snd SND_BATTERY_CHARGING_BEGIN.wav</pre>
<p>From there it is straight forward to generate all the conversion commands for a batch file via Excel.</p>
<p>&nbsp;</p>
